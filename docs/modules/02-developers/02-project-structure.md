# Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

## ğŸ¯ Ğ¦ĞµĞ»ÑŒ

ĞŸĞ¾Ğ½ÑÑ‚ÑŒ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ Ğ¸ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ´Ğ° Ğ² Avatar Generator.

## â±ï¸ Ğ’Ñ€ĞµĞ¼Ñ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ñ

**20 Ğ¼Ğ¸Ğ½ÑƒÑ‚**

## ğŸ“‹ ĞŸÑ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ

- [ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸](01-development-setup.md) - Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ
  Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¾
- Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ğ²ĞµĞ±-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹

## ğŸ—ï¸ ĞĞ±Ñ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Gateway (Nginx SSL/TLS)               â”‚
â”‚           Port: 80 (HTTP), 12745 (HTTPS)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   Frontend   â”‚  â”‚   Backend    â”‚  â”‚Postgreâ”‚â”‚
â”‚  â”‚   (React)    â”‚â—„â”€â”¤   (NestJS)   â”‚â—„â”€â”¤  SQL  â”‚â”‚
â”‚  â”‚   :8080      â”‚  â”‚    :3000     â”‚  â”‚ :5432 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚         â–²                  â–²              â–²    â”‚
â”‚         â”‚                  â”‚              â”‚    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Static Files â”‚  â”‚   Storage    â”‚  â”‚  Data â”‚â”‚
â”‚  â”‚   (React)    â”‚  â”‚ Local/S3     â”‚  â”‚(Volumeâ”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ ĞšĞ¾Ñ€Ğ½ĞµĞ²Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```
avatar-gen/
â”œâ”€â”€ backend/              # NestJS API ÑĞµÑ€Ğ²ĞµÑ€
â”œâ”€â”€ frontend/             # React Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
â”œâ”€â”€ gateway/              # Nginx reverse proxy
â”œâ”€â”€ docker/               # Docker ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ scripts/              # Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ docs/                 # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ LICENSE               # MIT License
â”œâ”€â”€ CHANGELOG.md          # Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
â”œâ”€â”€ CONTRIBUTING.md       # ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ†Ğ¸Ğ¸
â””â”€â”€ package.json          # Workspace configuration
```

## ğŸ”§ Backend ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (NestJS)

```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.ts                    # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”‚   â”œâ”€â”€ config/                    # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ config.module.ts       # ĞœĞ¾Ğ´ÑƒĞ»ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ configuration.ts       # Zod ÑÑ…ĞµĞ¼Ğ° Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â””â”€â”€ yaml-config.service.ts # YAML ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ common/                    # ĞĞ±Ñ‰Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”œâ”€â”€ dto/                   # Data Transfer Objects
â”‚   â”‚   â”œâ”€â”€ enums/                 # ĞŸĞµÑ€ĞµÑ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ
â”‚   â”‚   â””â”€â”€ interfaces/            # Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹
â”‚   â”œâ”€â”€ modules/                   # ĞœĞ¾Ğ´ÑƒĞ»Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ app/                   # ĞšĞ¾Ñ€Ğ½ĞµĞ²Ğ¾Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ
â”‚   â”‚   â”œâ”€â”€ avatar/                # ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ database/              # ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ‘Ğ”
â”‚   â”‚   â”œâ”€â”€ health/                # Health checks
â”‚   â”‚   â”œâ”€â”€ logger/                # Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
â”‚   â”‚   â””â”€â”€ initialization/        # Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
â”‚   â””â”€â”€ middleware/                # Middleware
â”œâ”€â”€ test/                          # E2E Ñ‚ĞµÑÑ‚Ñ‹
â”œâ”€â”€ storage/                       # Ğ¥Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚   â”œâ”€â”€ avatars/                   # Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ñ‹
â”‚   â””â”€â”€ database/                  # SQLite Ğ±Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”œâ”€â”€ logs/                          # Ğ›Ğ¾Ğ³Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ settings.yaml                  # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â””â”€â”€ package.json
```

### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸ Backend

#### ğŸ¨ Avatar Module

```typescript
// src/modules/avatar/
â”œâ”€â”€ avatar.controller.ts           # REST endpoints
â”œâ”€â”€ avatar.service.ts              # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
â”œâ”€â”€ avatar.module.ts               # ĞœĞ¾Ğ´ÑƒĞ»ÑŒ
â””â”€â”€ modules/
    â””â”€â”€ generator/                 # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
        â”œâ”€â”€ generator.service.ts   # Sharp Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
        â””â”€â”€ filter.service.ts      # ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ²
```

#### ğŸ—„ï¸ Database Module

```typescript
// src/modules/database/
â”œâ”€â”€ database.service.ts            # ĞĞ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ñ Ğ‘Ğ”
â”œâ”€â”€ database.module.ts             # ĞœĞ¾Ğ´ÑƒĞ»ÑŒ
â”œâ”€â”€ modules/                       # Ğ”Ñ€Ğ°Ğ¹Ğ²ĞµÑ€Ñ‹ Ğ‘Ğ”
â”‚   â”œâ”€â”€ sqlite-driver/             # SQLite Ğ´Ñ€Ğ°Ğ¹Ğ²ĞµÑ€
â”‚   â””â”€â”€ postgresql-driver/         # PostgreSQL Ğ´Ñ€Ğ°Ğ¹Ğ²ĞµÑ€
â”œâ”€â”€ interfaces/                    # Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹
â””â”€â”€ utils/                         # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
```

## ğŸ¨ Frontend ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (React + FSD)

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                       # Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ index.tsx              # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”‚   â”‚   â”œâ”€â”€ providers/             # ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ñ‹ (Query, Redux)
â”‚   â”‚   â””â”€â”€ router/                # Ğ Ğ¾ÑƒÑ‚Ğ¸Ğ½Ğ³
â”‚   â”œâ”€â”€ pages/                     # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ home/                  # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°
â”‚   â”‚   â”œâ”€â”€ avatar-generator/      # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ avatar-viewer/         # ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ²
â”‚   â”‚   â””â”€â”€ about/                 # Ğ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ
â”‚   â”œâ”€â”€ widgets/                   # Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ UI Ğ±Ğ»Ğ¾ĞºĞ¸
â”‚   â”‚   â”œâ”€â”€ header/                # Ğ¨Ğ°Ğ¿ĞºĞ° ÑĞ°Ğ¹Ñ‚Ğ°
â”‚   â”‚   â”œâ”€â”€ footer/                # ĞŸĞ¾Ğ´Ğ²Ğ°Ğ» ÑĞ°Ğ¹Ñ‚Ğ°
â”‚   â”‚   â””â”€â”€ avatar-card/           # ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°
â”‚   â”œâ”€â”€ features/                  # Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ„Ğ¸Ñ‡Ğ¸
â”‚   â”‚   â”œâ”€â”€ avatar-generator/      # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ theme-toggle/          # ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞ¼Ñ‹
â”‚   â”‚   â””â”€â”€ language-switcher/     # ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ·Ñ‹ĞºĞ°
â”‚   â”œâ”€â”€ entities/                  # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸
â”‚   â”‚   â”œâ”€â”€ user/                  # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ
â”‚   â”‚   â””â”€â”€ avatar/                # ĞĞ²Ğ°Ñ‚Ğ°Ñ€
â”‚   â””â”€â”€ shared/                    # ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğ¹ ĞºĞ¾Ğ´
â”‚       â”œâ”€â”€ ui/                    # UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (shadcn/ui)
â”‚       â”œâ”€â”€ lib/                   # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ Ğ¸ Ñ…ĞµĞ»Ğ¿ĞµÑ€Ñ‹
â”‚       â”œâ”€â”€ api/                   # API ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹
â”‚       â””â”€â”€ config/                # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ public/                        # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
â””â”€â”€ package.json
```

### Feature-Sliced Design Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

#### ğŸ“„ Pages (Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹)

```typescript
// src/pages/avatar-generator/
â”œâ”€â”€ index.ts                       # Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
â”œâ”€â”€ AvatarGeneratorPage.tsx        # ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
â””â”€â”€ model/                         # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
    â”œâ”€â”€ index.ts                   # Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
    â””â”€â”€ avatarGeneratorStore.ts    # Store ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
```

#### ğŸ§© Widgets (Ğ’Ğ¸Ğ´Ğ¶ĞµÑ‚Ñ‹)

```typescript
// src/widgets/avatar-card/
â”œâ”€â”€ index.ts                       # Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚Ğ°
â”œâ”€â”€ AvatarCard.tsx                 # ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚Ğ°
â””â”€â”€ model/                         # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚Ğ°
    â”œâ”€â”€ index.ts                   # Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
    â””â”€â”€ avatarCardStore.ts         # Store Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚Ğ°
```

#### âš¡ Features (Ğ¤Ğ¸Ñ‡Ğ¸)

```typescript
// src/features/avatar-generator/
â”œâ”€â”€ index.ts                       # Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ñ„Ğ¸Ñ‡Ğ¸
â”œâ”€â”€ ui/                            # UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”œâ”€â”€ GenerateButton.tsx         # ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
â”‚   â””â”€â”€ ColorPicker.tsx            # Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ñ†Ğ²ĞµÑ‚Ğ°
â””â”€â”€ model/                         # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ„Ğ¸Ñ‡Ğ¸
    â”œâ”€â”€ index.ts                   # Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
    â”œâ”€â”€ generateAvatar.ts          # Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
    â””â”€â”€ avatarGeneratorStore.ts    # Store Ñ„Ğ¸Ñ‡Ğ¸
```

#### ğŸ—ï¸ Entities (Ğ¡ÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸)

```typescript
// src/entities/avatar/
â”œâ”€â”€ index.ts                       # Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸
â”œâ”€â”€ model/                         # ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚   â”œâ”€â”€ index.ts                   # Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
â”‚   â”œâ”€â”€ types.ts                   # TypeScript Ñ‚Ğ¸Ğ¿Ñ‹
â”‚   â””â”€â”€ avatar.ts                  # ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°
â””â”€â”€ ui/                            # UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
    â”œâ”€â”€ index.ts                   # Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ UI
    â””â”€â”€ AvatarImage.tsx            # ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ
```

#### ğŸ”§ Shared (ĞĞ±Ñ‰Ğ¸Ğµ)

```typescript
// src/shared/
â”œâ”€â”€ ui/                            # UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”œâ”€â”€ button/                    # ĞšĞ½Ğ¾Ğ¿ĞºĞ°
â”‚   â”œâ”€â”€ input/                     # ĞŸĞ¾Ğ»Ğµ Ğ²Ğ²Ğ¾Ğ´Ğ°
â”‚   â””â”€â”€ modal/                     # ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾
â”œâ”€â”€ lib/                           # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
â”‚   â”œâ”€â”€ utils.ts                   # ĞĞ±Ñ‰Ğ¸Ğµ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
â”‚   â””â”€â”€ api.ts                     # API Ñ…ĞµĞ»Ğ¿ĞµÑ€Ñ‹
â””â”€â”€ config/                        # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
    â”œâ”€â”€ index.ts                   # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
    â””â”€â”€ env.ts                     # ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
```

## ğŸ”„ Data Flow

### Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°

```
User Action (Frontend)
     â†“
React Component (AvatarGenerator)
     â†“
Redux Action / API Call
     â†“
POST /api/generate
     â†“
AvatarController (Backend)
     â†“
AvatarService
     â†“ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”œâ†’â”‚ GeneratorService     â”‚â†’ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ (Sharp)
     â”œâ†’â”‚ StorageService       â”‚â†’ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ .obj Ñ„Ğ°Ğ¹Ğ»Ğ°
     â””â†’â”‚ DatabaseService      â”‚â†’ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ metadata
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
Response (id, createdAt, version)
     â†“
Frontend UI Update
     â†“
Redirect to Avatar Viewer
```

### ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°

```
User Request (GET /api/:id?filter=grayscale&size=7)
     â†“
AvatarController
     â†“
AvatarService
     â†“ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”œâ†’â”‚ DatabaseService      â”‚â†’ ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ metadata
     â”œâ†’â”‚ StorageService       â”‚â†’ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° .obj Ñ„Ğ°Ğ¹Ğ»Ğ°
     â”œâ†’â”‚ Extract image_7n     â”‚â†’ Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ½ÑƒĞ¶Ğ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°
     â””â†’â”‚ GeneratorService     â”‚â†’ ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
Binary Image Response
     â†“
Browser Display / Download
```

## ğŸ—‚ï¸ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

### Backend ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

```yaml
# backend/settings.yaml
app:
  storage:
    type: 'local' # Ğ¸Ğ»Ğ¸ 's3'
    local:
      save_path: './storage/avatars'
    s3:
      endpoint: 'https://your-s3-endpoint.com'
      bucket: 'your-bucket-name'
  server:
    host: '0.0.0.0'
    port: 3000
  database:
    driver: 'sqlite' # Ğ¸Ğ»Ğ¸ 'postgresql'
    sqlite_params:
      url: 'file:./storage/database/database.sqlite'
    network:
      host: 'postgres'
      port: 5432
      database: 'avatar_gen'
      username: 'postgres'
      password: 'password'
```

### Frontend ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

```typescript
// frontend/src/shared/config/index.ts
export const ENV_CONFIG = {
  isDev: import.meta.env.DEV,
  isProd: import.meta.env.PROD,
  apiUrl: import.meta.env.VITE_API_BASE_URL || '/api',
} as const;

export const APP_CONFIG = {
  name: 'ava-gen Frontend',
  version: '1.0.0',
  theme: {
    primaryColor: '#2563eb',
  },
} as const;
```

## ğŸ³ Docker ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```
docker/
â”œâ”€â”€ docker-compose.yml              # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ docker-compose.sqlite.yml       # SQLite Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ
â”œâ”€â”€ docker-compose.postgresql.yml   # PostgreSQL Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ
â””â”€â”€ README.md                       # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Docker

backend/docker/
â”œâ”€â”€ Dockerfile                      # Backend Ğ¾Ğ±Ñ€Ğ°Ğ·
â””â”€â”€ README.md

frontend/docker/
â”œâ”€â”€ Dockerfile                      # Frontend Ğ¾Ğ±Ñ€Ğ°Ğ·
â””â”€â”€ README.md

gateway/
â”œâ”€â”€ Dockerfile                      # Gateway Ğ¾Ğ±Ñ€Ğ°Ğ·
â”œâ”€â”€ configs/nginx.conf              # Nginx ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â””â”€â”€ README.md
```

## ğŸ“Š Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ²

ĞĞ²Ğ°Ñ‚Ğ°Ñ€Ñ‹ Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ Ğ² Ğ²Ğ¸Ğ´Ğµ `.obj` Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² (ÑĞµÑ€Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹):

```typescript
interface AvatarObject {
  meta_data_name: string; // UUID
  meta_data_created_at: DateTime; // Timestamp
  image_5n: Buffer; // 2^5 = 32px
  image_6n: Buffer; // 2^6 = 64px (default)
  image_7n: Buffer; // 2^7 = 128px
  image_8n: Buffer; // 2^8 = 256px
  image_9n: Buffer; // 2^9 = 512px
}
```

**Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ:** `backend/storage/avatars/<uuid>.obj`

## ğŸ—„ï¸ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### Ğ¡Ñ…ĞµĞ¼Ğ° (TypeORM)

```typescript
@Entity('avatars')
export class Avatar {
  @PrimaryGeneratedColumn('uuid')
  id: string;

  @Column()
  name: string;

  @CreateDateColumn()
  createdAt: Date;

  @Column({ default: '0.0.1' })
  version: string;

  @Column({ unique: true })
  filePath: string;

  @Column({ nullable: true })
  primaryColor?: string;

  @Column({ nullable: true })
  foreignColor?: string;

  @Column({ nullable: true })
  colorScheme?: string;

  @Column({ nullable: true })
  seed?: string;
}
```

**SQLite:** `backend/storage/database/database.sqlite`  
**PostgreSQL:** ĞĞ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ² `settings.yaml`

## âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ñ

ĞŸĞ¾ÑĞ»Ğµ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ²Ñ‹ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ:

- [ ] ĞĞ±Ñ‰ÑƒÑ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñƒ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹
- [ ] Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ backend (NestJS Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸)
- [ ] Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ frontend (FSD Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
- [ ] ĞšĞ°Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°ÑÑ‚ÑÑ Ğ¼ĞµĞ¶Ğ´Ñƒ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸
- [ ] Ğ“Ğ´Ğµ Ğ½Ğ°Ñ…Ğ¾Ğ´ÑÑ‚ÑÑ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
- [ ] ĞšĞ°Ğº Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ñ‹
- [ ] Ğ¡Ñ…ĞµĞ¼Ñƒ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

## ğŸ”— Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµĞ¼Ñ‹

### ĞŸÑ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ

- [ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸](01-development-setup.md) - Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
- [NestJS Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ](https://docs.nestjs.com/) - Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº backend
- [Feature-Sliced Design](https://feature-sliced.design/) - Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° frontend

### Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸

- [Backend Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°](03-backend-development.md) - Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° API
- [Frontend Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°](04-frontend-development.md) - Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° UI
- [Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹](05-adding-features.md) - Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

---

**ĞŸÑ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·Ğ´ĞµĞ»:** [ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸](01-development-setup.md)  
**Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·Ğ´ĞµĞ»:** [Backend Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°](03-backend-development.md)  
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0  
**ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾:** 2025-01-15
