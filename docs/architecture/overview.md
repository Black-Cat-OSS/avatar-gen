# ĞĞ±Ğ·Ğ¾Ñ€ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**Ğ’ĞµÑ€ÑĞ¸Ñ:** 3.0  
**Ğ”Ğ°Ñ‚Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ:** 2025-10-03

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

### ĞšĞ¾Ñ€Ğ½ĞµĞ²Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```
avatar-gen/
â”œâ”€â”€ backend/          # NestJS API server
â”œâ”€â”€ frontend/         # React + Vite frontend
â”œâ”€â”€ docker/           # Docker compose ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ scripts/          # Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ docs/             # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ LICENSE           # MIT License
â”œâ”€â”€ CHANGELOG.md      # Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
â”œâ”€â”€ CONTRIBUTING.md   # ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ†Ğ¸Ğ¸
â””â”€â”€ package.json      # Workspace configuration
```

## ğŸ“š Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸

```
docs/
â”œâ”€â”€ README.md                       # Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ¾Ğ±Ğ·Ğ¾Ñ€ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸ (ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ» Ğ² ĞºĞ¾Ñ€Ğ½Ğµ)
â”‚
â”œâ”€â”€ getting-started/               # ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ quick-start.md             # 5-Ğ¼Ğ¸Ğ½ÑƒÑ‚Ğ½Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚
â”‚   â””â”€â”€ installation.md            # Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°
â”‚
â”œâ”€â”€ development/                   # ğŸ› ï¸ Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ setup.md                   # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
â”‚   â”œâ”€â”€ database.md                # Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚   â”œâ”€â”€ integration.md             # Frontend-Backend
â”‚   â””â”€â”€ troubleshooting.md         # Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼
â”‚
â”œâ”€â”€ deployment/                    # ğŸ³ Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ docker-compose.md          # Docker Compose
â”‚   â””â”€â”€ production.md              # Production
â”‚
â”œâ”€â”€ api/                          # ğŸ“¡ API
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ endpoints.md               # Ğ’ÑĞµ endpoints
â”‚   â””â”€â”€ examples.md                # ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹
â”‚
â”œâ”€â”€ testing/                      # ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
â”‚   â””â”€â”€ README.md                  # Ğ¡ÑÑ‹Ğ»ĞºĞ¸ Ğ½Ğ° Ñ‚ĞµÑÑ‚Ñ‹
â”‚
â”œâ”€â”€ architecture/                 # ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°
â”‚   â”œâ”€â”€ README.md
â”‚   â””â”€â”€ overview.md                # Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»
â”‚
â”œâ”€â”€ contributing/                 # ğŸ¤ ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ†Ğ¸Ñ
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ code-style.md
â”‚   â”œâ”€â”€ commits.md
â”‚   â””â”€â”€ pull-requests.md
â”‚
â””â”€â”€ archive/                      # ğŸ“¦ ĞÑ€Ñ…Ğ¸Ğ²
    â”œâ”€â”€ README.md
    â”œâ”€â”€ backend_task.md            # ĞŸĞµÑ€Ğ²Ğ¾Ğ½Ğ°Ñ‡Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¢Ğ—
    â”œâ”€â”€ MIGRATION_DOCKER_STRUCTURE.md
    â”œâ”€â”€ REORGANIZATION_PLAN.md
    â”œâ”€â”€ REORGANIZATION_SUMMARY.md
    â””â”€â”€ TESTING_AND_DOCS_UPDATE.md
```

**ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸:** ĞšĞ°Ğ¶Ğ´Ğ°Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ README.md Ñ…Ğ°Ğ±, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹
ĞºĞ¾Ğ¼Ğ¿Ğ¸Ğ»Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²ÑĞµ Ñ‚ĞµĞ¼Ñ‹ Ğ² ÑÑ‚Ğ¾Ğ¼ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğµ.

## ğŸ—ï¸ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Backend

### Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸

```
backend/
â”œâ”€â”€ src/                          # Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´
â”‚   â”œâ”€â”€ main.ts                   # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”‚   â”œâ”€â”€ config/                   # ĞœĞ¾Ğ´ÑƒĞ»ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ config.module.ts
â”‚   â”‚   â”œâ”€â”€ configuration.ts      # Zod ÑÑ…ĞµĞ¼Ğ° Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ yaml-config.service.ts
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ common/                   # ĞĞ±Ñ‰Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”œâ”€â”€ dto/                  # Data Transfer Objects
â”‚   â”‚   â”œâ”€â”€ enums/                # ĞŸĞµÑ€ĞµÑ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ
â”‚   â”‚   â””â”€â”€ interfaces/           # Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹
â”‚   â””â”€â”€ modules/                  # ĞœĞ¾Ğ´ÑƒĞ»Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚       â”œâ”€â”€ app/                  # ĞšĞ¾Ñ€Ğ½ĞµĞ²Ğ¾Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ
â”‚       â”œâ”€â”€ avatar/               # ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ² (Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹)
â”‚       â”‚   â”œâ”€â”€ modules/
â”‚       â”‚   â”‚   â””â”€â”€ generator/    # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
â”‚       â”‚   â”œâ”€â”€ avatar.controller.ts
â”‚       â”‚   â”œâ”€â”€ avatar.service.ts
â”‚       â”‚   â””â”€â”€ avatar.module.ts
â”‚       â”œâ”€â”€ database/             # ĞœĞ¾Ğ´ÑƒĞ»ÑŒ Ğ‘Ğ” (SQLite/PostgreSQL)
â”‚       â”‚   â”œâ”€â”€ providers/
â”‚       â”‚   â”‚   â”œâ”€â”€ sqlite-database.service.ts
â”‚       â”‚   â”‚   â””â”€â”€ postgres-database.service.ts
â”‚       â”‚   â”œâ”€â”€ database.service.ts
â”‚       â”‚   â””â”€â”€ database.module.ts
â”‚       â”œâ”€â”€ health/               # Health check Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ
â”‚       â”œâ”€â”€ storage/              # Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ
â”‚       â”œâ”€â”€ logger/               # Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (Pino)
â”‚       â””â”€â”€ initialization/       # Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¹
â”‚
â”œâ”€â”€ test/                         # E2E Ñ‚ĞµÑÑ‚Ñ‹
â”‚   â”œâ”€â”€ health.e2e-spec.ts
â”‚   â””â”€â”€ jest-setup.ts
â”‚
â”œâ”€â”€ prisma/                       # Prisma ORM
â”‚   â”œâ”€â”€ schema.prisma             # Ğ¡Ñ…ĞµĞ¼Ğ° Ğ‘Ğ”
â”‚   â””â”€â”€ migrations/               # ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
â”‚
â”œâ”€â”€ storage/                      # Ğ¥Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚   â”œâ”€â”€ avatars/                  # Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ñ‹ (.obj Ñ„Ğ°Ğ¹Ğ»Ñ‹)
â”‚   â””â”€â”€ database/                 # SQLite Ğ±Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”‚       â””â”€â”€ database.sqlite
â”‚
â”œâ”€â”€ logs/                         # Ğ›Ğ¾Ğ³Ğ¸ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ docker/                       # Docker ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ docs/                         # Backend Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ INDEX.md
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ TESTING.md
â”‚   â”œâ”€â”€ TEST_RESULTS.md
â”‚   â””â”€â”€ modules/
â”‚       â””â”€â”€ database/             # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ Ğ‘Ğ”
â”œâ”€â”€ settings.yaml                 # ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

## ğŸ¨ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Frontend

### Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸ (Feature-Sliced Design)

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                      # Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ providers/            # ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ñ‹ (Query, Redux)
â”‚   â”‚   â””â”€â”€ router/               # Ğ Ğ¾ÑƒÑ‚Ğ¸Ğ½Ğ³
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                    # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”œâ”€â”€ avatar-generator/
â”‚   â”‚   â”œâ”€â”€ avatar-viewer/
â”‚   â”‚   â”œâ”€â”€ about/
â”‚   â”‚   â””â”€â”€ login/
â”‚   â”‚
â”‚   â”œâ”€â”€ widgets/                  # Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ UI Ğ±Ğ»Ğ¾ĞºĞ¸
â”‚   â”‚   â”œâ”€â”€ header/
â”‚   â”‚   â”œâ”€â”€ footer/
â”‚   â”‚   â”œâ”€â”€ avatar-card/
â”‚   â”‚   â””â”€â”€ mobile-menu/
â”‚   â”‚
â”‚   â”œâ”€â”€ features/                 # Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ„Ğ¸Ñ‡Ğ¸
â”‚   â”‚   â”œâ”€â”€ avatar-generator/
â”‚   â”‚   â”œâ”€â”€ counter-increment/
â”‚   â”‚   â”œâ”€â”€ ThemeToggle/
â”‚   â”‚   â””â”€â”€ LanguageSwitcher/
â”‚   â”‚
â”‚   â”œâ”€â”€ entities/                 # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸
â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â””â”€â”€ counter/
â”‚   â”‚
â”‚   â””â”€â”€ shared/                   # ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğ¹ ĞºĞ¾Ğ´
â”‚       â”œâ”€â”€ ui/                   # UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (shadcn/ui)
â”‚       â”œâ”€â”€ lib/                  # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ Ğ¸ Ñ…ĞµĞ»Ğ¿ĞµÑ€Ñ‹
â”‚       â”œâ”€â”€ api/                  # API ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹
â”‚       â”œâ”€â”€ config/               # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚       â””â”€â”€ locales/              # i18n Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹
â”‚
â”œâ”€â”€ public/                       # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
â”œâ”€â”€ static/                       # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ (404, 403)
â”œâ”€â”€ docker/                       # Docker ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ docs/                         # Frontend Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ docker-deployment.md
â”‚   â””â”€â”€ COMMIT_MESSAGES.md
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.ts
```

## ğŸ³ Docker ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```
docker/
â”œâ”€â”€ docker-compose.yml            # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ docker-compose.sqlite.yml     # SQLite Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ
â”œâ”€â”€ docker-compose.postgresql.yml # PostgreSQL Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ
â”œâ”€â”€ README.md                     # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Docker
â””â”€â”€ DOCKER_BUILD_FIXES.md         # Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼ ÑĞ±Ğ¾Ñ€ĞºĞ¸
```

**Dockerfile Ğ¾ÑÑ‚Ğ°ÑÑ‚ÑÑ Ğ² Ğ¼Ğ¾Ğ´ÑƒĞ»ÑÑ…:**

- `backend/docker/Dockerfile` - Backend Ğ¾Ğ±Ñ€Ğ°Ğ·
- `frontend/docker/Dockerfile` - Frontend Ğ¾Ğ±Ñ€Ğ°Ğ·

## ğŸ“œ Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ

```
scripts/
â”œâ”€â”€ build.sh              # Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ² (Ñ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑĞ¼Ğ¸)
â”œâ”€â”€ build-fast.sh         # Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ ÑĞ±Ğ¾Ñ€ĞºĞ° (Ñ ĞºÑÑˆĞµĞ¼)
â”œâ”€â”€ start.sh              # Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
â”œâ”€â”€ dev.sh                # Dev Ñ€ĞµĞ¶Ğ¸Ğ¼ (Ñ„Ğ¾Ğ½Ğ¾Ğ²Ñ‹Ğ¹)
â”œâ”€â”€ stop.sh               # ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° (Ğ¾Ğ¿Ñ†Ğ¸Ñ --volumes)
â”œâ”€â”€ logs.sh               # ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ»Ğ¾Ğ³Ğ¾Ğ²
â”œâ”€â”€ clean.sh              # ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° Docker
â”œâ”€â”€ setup-dev.sh          # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° dev Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
â””â”€â”€ README.md             # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ²
```

## ğŸ”„ Data Flow

### Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°

```
User Action (Frontend)
     â†“
React Component (AvatarGenerator)
     â†“
Redux Action / API Call
     â†“
POST /api/generate
     â†“
AvatarController (Backend)
     â†“
AvatarService
     â†“ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”œâ†’â”‚ GeneratorService     â”‚â†’ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ (Sharp)
     â”œâ†’â”‚ StorageService       â”‚â†’ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ .obj Ñ„Ğ°Ğ¹Ğ»Ğ°
     â””â†’â”‚ DatabaseService      â”‚â†’ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ metadata
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
Response (id, createdAt, version)
     â†“
Frontend UI Update
     â†“
Redirect to Avatar Viewer
```

### ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°

```
User Request (GET /api/:id?filter=grayscale&size=7)
     â†“
AvatarController
     â†“
AvatarService
     â†“ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”œâ†’â”‚ DatabaseService      â”‚â†’ ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ metadata
     â”œâ†’â”‚ StorageService       â”‚â†’ Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° .obj Ñ„Ğ°Ğ¹Ğ»Ğ°
     â”œâ†’â”‚ Extract image_7n     â”‚â†’ Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ½ÑƒĞ¶Ğ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°
     â””â†’â”‚ GeneratorService     â”‚â†’ ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
Binary Image Response
     â†“
Browser Display / Download
```

## ğŸ—‚ï¸ ĞœĞ¾Ğ´ÑƒĞ»Ğ¸ Backend

### Core Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸

| ĞœĞ¾Ğ´ÑƒĞ»ÑŒ             | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ                          | Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ                                               |
| ------------------ | --------------------------------- | ---------------------------------------------------------- |
| **Avatar**         | Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°Ğ¼Ğ¸  | -                                                          |
| **Database**       | ĞĞ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ñ Ğ‘Ğ” (SQLite/PostgreSQL) | [Docs](../../backend/docs/modules/database/README.md)      |
| **Storage**        | Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ (.obj Ñ„Ğ°Ğ¹Ğ»Ñ‹)   | -                                                          |
| **Health**         | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ      | -                                                          |
| **Logger**         | Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ      | -                                                          |
| **Initialization** | Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¹          | [Docs](../../backend/src/modules/initialization/README.md) |
| **Config**         | Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸ĞµĞ¹ (YAML)   | [Docs](../../backend/src/config/README.md)                 |

### Ğ’ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹

- **GeneratorService** - Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ (Sharp)
- **FilterService** - ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ² (grayscale, sepia, negative)

## ğŸ“¦ Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ¾Ğ²

ĞĞ²Ğ°Ñ‚Ğ°Ñ€Ñ‹ Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ Ğ² Ğ²Ğ¸Ğ´Ğµ `.obj` Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² (ÑĞµÑ€Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹):

```typescript
interface AvatarObject {
  meta_data_name: string; // UUID
  meta_data_created_at: DateTime; // Timestamp
  image_5n: Buffer; // 2^5 = 32px
  image_6n: Buffer; // 2^6 = 64px (default)
  image_7n: Buffer; // 2^7 = 128px
  image_8n: Buffer; // 2^8 = 256px
  image_9n: Buffer; // 2^9 = 512px
}
```

**Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ:** `backend/storage/avatars/<uuid>.obj`

## ğŸ—„ï¸ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### Ğ¡Ñ…ĞµĞ¼Ğ° (Prisma)

```prisma
model Avatar {
  id           String   @id @default(uuid())
  name         String
  createdAt    DateTime @default(now())
  version      String   @default("0.0.1")
  filePath     String   @unique
  primaryColor String?
  foreignColor String?
  colorScheme  String?
  seed         String?

  @@map("avatars")
}
```

**SQLite:** `backend/storage/database/database.sqlite`  
**PostgreSQL:** ĞĞ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ² `settings.yaml`

## ğŸ”§ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

### Ğ˜ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞº

```
settings.yaml                    # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â†“ (override)
settings.{NODE_ENV}.yaml        # ĞĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ-ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸Ñ‡Ğ½Ğ°Ñ
â†“ (override)
.env                            # ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ (auto-generated)
```

### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹

```yaml
app:
  save_path: './storage/avatars'
  server:
    host: '0.0.0.0'
    port: 3000
  database:
    driver: 'sqlite' # Ğ¸Ğ»Ğ¸ "postgresql"
    connection:
      maxRetries: 3
      retryDelay: 2000
    sqlite_params:
      url: 'file:./storage/database/database.sqlite'
  logging:
    level: 'info'
    verbose: false
    pretty: true
```

## ğŸŒ Network Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Docker Network (bridge)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   Frontend   â”‚  â”‚   Backend    â”‚  â”‚Postgreâ”‚â”‚
â”‚  â”‚   (Nginx)    â”‚â†’ â”‚   (NestJS)   â”‚â†’ â”‚  SQL  â”‚â”‚
â”‚  â”‚   :80, :443  â”‚  â”‚    :3000     â”‚  â”‚ :5432 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚         â†“                  â†“              â†“    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Static Files â”‚  â”‚   Storage    â”‚  â”‚  Data â”‚â”‚
â”‚  â”‚   (React)    â”‚  â”‚  (Avatars)   â”‚  â”‚(Volumeâ”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚ĞµÑÑ‚Ğ¾Ğ²

```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ yaml-config.service.spec.ts
â”‚   â””â”€â”€ modules/
â”‚       â”œâ”€â”€ health/
â”‚       â”‚   â””â”€â”€ health.controller.spec.ts
â”‚       â””â”€â”€ avatar/
â”‚           â”œâ”€â”€ avatar.controller.spec.ts
â”‚           â””â”€â”€ avatar.service.spec.ts
â””â”€â”€ test/
    â”œâ”€â”€ health.e2e-spec.ts
    â””â”€â”€ jest-setup.ts
```

**Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°:**

- 50 Ñ‚ĞµÑÑ‚Ğ¾Ğ² (4 test suites)
- 100% coverage ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… endpoints
- Unit + E2E Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ

## ğŸš€ Deployment Flow

```
Development
     â†“
Git Commit (husky pre-commit hook)
     â†“
lint-staged (eslint + prettier)
     â†“
commitlint (validate message)
     â†“
Push to repository
     â†“
Docker Build (./scripts/build.sh)
     â†“
Multi-stage build:
  - Builder stage (compile TS â†’ JS)
  - Production stage (minimal runtime)
     â†“
Docker Compose Deploy
     â†“
Health Checks
     â†“
Production Ready
```

## ğŸ“Š Technology Stack

### Backend

```
NestJS 11
â”œâ”€â”€ TypeScript 5.9
â”œâ”€â”€ Prisma 6.16
â”‚   â”œâ”€â”€ SQLite (dev)
â”‚   â””â”€â”€ PostgreSQL (prod)
â”œâ”€â”€ Sharp 0.34 (image processing)
â”œâ”€â”€ Pino (logging)
â”œâ”€â”€ Zod (validation)
â”œâ”€â”€ class-validator
â””â”€â”€ Swagger/OpenAPI
```

### Frontend

```
React 18
â”œâ”€â”€ TypeScript 5.9
â”œâ”€â”€ Vite 6 (build tool)
â”œâ”€â”€ Tailwind CSS + SCSS
â”œâ”€â”€ Redux Toolkit (state)
â”œâ”€â”€ React Router 7 (routing)
â”œâ”€â”€ i18next (i18n)
â”œâ”€â”€ shadcn/ui (components)
â””â”€â”€ Tanstack Query (data fetching)
```

### Infrastructure

```
Docker
â”œâ”€â”€ Docker Compose (orchestration)
â”œâ”€â”€ Node.js 20 Alpine (backend)
â”œâ”€â”€ Node.js 22 Alpine (frontend build)
â””â”€â”€ Nginx Alpine (frontend serve)

Tools
â”œâ”€â”€ pnpm (package manager)
â”œâ”€â”€ ESLint + Prettier (code quality)
â”œâ”€â”€ Husky + lint-staged (git hooks)
â”œâ”€â”€ Commitlint (commit messages)
â””â”€â”€ Jest + ts-jest (testing)
```

## ğŸ” Security Architecture

### Backend

- **Validation:** class-validator Ğ½Ğ° DTO
- **Sanitization:** ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- **Error Handling:** Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- **CORS:** ĞĞ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ´Ğ»Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ
- **Health Checks:** ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²

### Frontend

- **Type Safety:** TypeScript ÑÑ‚Ñ€Ğ¾Ğ³Ğ¸Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼
- **XSS Protection:** React Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑĞºÑ€Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- **HTTPS Ready:** Nginx Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° SSL
- **CSP:** Content Security Policy (configurable)

## ğŸ“ˆ Scalability

### Horizontal Scaling

- **Backend:** Stateless design Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°Ñ‚ÑŒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ¸Ğ½ÑÑ‚Ğ°Ğ½ÑĞ¾Ğ²
- **Database:** PostgreSQL Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ñ€ĞµĞ¿Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
- **Storage:** Shared volume Ğ¸Ğ»Ğ¸ S3-compatible storage
- **Load Balancer:** Nginx upstream configuration

### Vertical Scaling

- **Backend:** ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° CPU Ğ¸ Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸ Ğ² docker-compose
- **Database:** Connection pooling Ñ‡ĞµÑ€ĞµĞ· Prisma
- **Caching:** Redis integration (Ğ² Ğ¿Ğ»Ğ°Ğ½Ğ°Ñ…)

## ğŸ”— Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹

- [Backend Architecture](../../backend/docs/README.md)
- [Frontend Architecture](../../frontend/docs/README.md)
- [Database Module](../../backend/docs/modules/database/README.md)
- [Deployment Guide](../deployment/README.md)

---

**ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾:** 2025-10-03
